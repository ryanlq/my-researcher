# GPT-Researcher 前端 UX 设计方案

基于 gpt-researcher 框架的深度研究和多代理能力，设计一套完整的前端用户体验方案。

---

## 一、设计理念

### 核心原则

1. **研究导向** - 界面设计符合学术/专业研究工作流
2. **过程透明** - 实时展示研究进度，让用户了解当前状态
3. **结果可溯** - 每个结论都能追溯到来源
4. **配置灵活** - 高级用户可以深度定制
5. **效率优先** - 减少操作步骤，提升研究效率

---

## 二、用户角色与场景

### 用户角色

| 角色 | 需求 | 使用频率 | 技术水平 |
|------|------|----------|----------|
| **学术研究者** | 深度文献调研、论文写作 | 高 | 中等 |
| **产品经理** | 市场调研、竞品分析 | 中 | 低-中 |
| **企业分析师** | 行业报告、趋势分析 | 高 | 中等 |
| **内容创作者** | 选题研究、素材收集 | 中 | 低 |
| **技术开发者** | 技术调研、方案评估 | 低 | 高 |

### 典型场景

**场景 1：快速调研**
```
用户：产品经理
需求：了解 AI 写作工具市场
时间：5-10 分钟
模式：标准研究
```

**场景 2：深度研究**
```
用户：学术研究者
需求：量子计算最新进展综述
时间：30-60 分钟
模式：深度研究 + 多代理协作
```

**场景 3：企业知识库**
```
用户：企业分析师
需求：基于内部文档 + 网络信息
时间：15-20 分钟
模式：混合研究（本地 + 网络）
```

---

## 三、信息架构

### 3.1 页面结构

```
┌─────────────────────────────────────────────────────┐
│                    主导航栏                          │
│  logo | 研究 | 知识库 | 配置 | 历史 | 帮助        │
└─────────────────────────────────────────────────────┘

┌─────────────────┬───────────────────────────────────┐
│                 │                                   │
│   侧边栏         │         主内容区                  │
│                 │                                   │
│ ┌─────────────┐ │  ┌─────────────────────────────┐ │
│ │新建研究     │ │  │                             │ │
│ │─────────────│ │  │   研究工作区                  │ │
│ │快速研究     │ │  │                             │ │
│ │深度研究     │ │  │  ┌──────────────────────┐   │ │
│ │知识库研究   │ │  │  │   查询输入框          │   │ │
│ │─────────────│ │  │  └──────────────────────┘   │ │
│ │历史记录     │ │  │                             │ │
│ │─────────────│ │  │   [进度面板 / 结果展示]      │ │
│ │导出格式     │ │  │                             │ │
│ └─────────────┘ │  └─────────────────────────────┘ │
│                 │                                   │
└─────────────────┴───────────────────────────────────┘
```

---

## 四、核心界面设计

### 4.1 主界面 - 研究工作台

#### 布局结构

```
┌─────────────────────────────────────────────────────────────┐
│  🔬 GPT-Researcher                              🔔 ⚙️ 👤   │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  [快速研究] [深度研究] [知识库] [批量任务]                   │
│                                                               │
│  ┌───────────────────────────────────────────────────────┐  │
│  │                                                        │  │
│  │  请输入您的研究问题...                                 │  │
│  │                                                        │  │
│  │  例如：2025年人工智能在教育领域的最新进展              │  │
│  │                                                        │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                               │
│  高级选项 ▼                                                   │
│  ┌───────────────────────────────────────────────────────┐  │
│  │ 📊 研究模式    标准研究 ▼                             │  │
│  │ 🎯 报告类型    研究报告 ▼                             │  │
│  │ 📝 报告语气    客观分析 ▼                             │  │
│  │ 🌐 数据来源    网络搜索 ▼                             │  │
│  │ 📁 本地文档  [拖拽上传或选择]                        │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                               │
│  [开始研究 💡]                                              │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

#### 关键元素

**1. 查询输入框**
- 大尺寸文本框（高度 80px）
- 占位符提示示例查询
- 支持 Markdown 格式
- 字符计数
- 快捷键：Ctrl/Cmd + Enter 开始研究

**2. 研究模式选择**

```
┌──────────────┬──────────────┬──────────────┐
│  ⚡ 快速研究   │  🔬 深度研究   │  📚 知识库研究  │
│              │              │              │
│  ~1 分钟      │  ~5 分钟      │  本地+网络    │
│  ~$0.05      │  ~$0.40       │  自定义        │
└──────────────┴──────────────┴──────────────┘
```

**3. 高级选项面板（可折叠）**

```yaml
研究配置:
  报告类型:
    - 研究报告 (Research Report)
    - 资源报告 (Resource Report)
    - 大纲报告 (Outline Report)
    - 自定义报告 (Custom Report)

  报告语气:
    - 客观分析 (Analytical)
    - 批判性 (Critical)
    - 信息性 (Informative)
    - 推测性 (Speculative)

  数据来源:
    - 网络搜索 (Web)
    - 本地文档 (Local)
    - 指定 URL (Static)
    - 混合模式 (Hybrid)

  深度参数 (仅深度研究):
    - 广度: [████━━░░] 5
    - 深度: [███░░░░░] 3
    - 并发: [███░░░░░] 4

  LLM 配置:
    - 快速任务: Ollama (本地)
    - 复杂任务: GPT-4o (云端)
    - 嵌入: Ollama (本地)
```

---

### 4.2 进度展示界面

#### 研究中状态

```
┌─────────────────────────────────────────────────────────────┐
│  🔄 正在进行研究...                        已用时: 02:34    │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  总体进度: [████████░░░░░░░░░░░░] 60%                      │
│                                                               │
│  ┌───────────────────────────────────────────────────────┐   │
│  │  当前阶段：数据收集与分析                              │   │
│  └───────────────────────────────────────────────────────┘   │
│                                                               │
│  📊 研究统计:                                               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  ✅ 已完成:        12/20 个查询                       │   │
│  │  🌐 已访问:        45 个网页                         │   │
│  │  📄 已收集:        156 个片段                        │   │
│  │  💰 当前成本:      $0.12                            │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                               │
│  🌳 研究树 (深度研究模式):                                  │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  🎯 主查询: 2025年AI在教育领域的应用                 │   │
│  │                                                         │   │
│  │  ├─ 📊 教育数据分析 (100%)                           │   │
│  │  │   ├─ K-12教育 (100%)                             │   │
│  │  │   └─ 高等教育 (80%)  ◕ 正在研究中...              │   │
│  │  │                                                    │   │
│  │  ├─ 🤖 AI工具应用 (100%)                             │   │
│  │  │   ├─ 个性化学习 (100%)                           │   │
│  │  │   └─ 智能评估 (60%)  ◕ 正在研究中...              │   │
│  │  │                                                    │   │
│  │  └─ 📚 政策与趋势 (40%)  ◕ 等待中...                   │   │
│  │                                                         │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                               │
│  [暂停研究] [取消研究]                                      │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

#### 多代理进度（LangGraph 模式）

```
┌─────────────────────────────────────────────────────────────┐
│  🤖 多代理协作研究                                          │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  代理状态:                                                   │
│  ┌───────────────────────────────────────────────────────┐   │
│  │  👔 Chief Editor  ⚪ 空闲                             │   │
│  │  📝 Editor         ✅ 规划完成 (3 个大纲)             │   │
│  │  🔍 Researcher     🔵 正在研究 "高等教育应用"...       │   │
│  │  👀 Reviewer       ⏳ 等待中                           │   │
│  │  ✏️ Revisor        ⏳ 等待中                           │   │
│  │  ✍️ Writer         ⏳ 等待中                           │   │
│  │  📤 Publisher      ⏳ 等待中                           │   │
│  └───────────────────────────────────────────────────────┘   │
│                                                               │
│  当前活动日志:                                              │
│  ┌───────────────────────────────────────────────────────┐   │
│  │  [14:32:15] 🔍 Researcher 开始研究子主题 2/3         │   │
│  │  [14:32:10] ✅ 已完成 "教育数据分析" 深度研究         │   │
│  │  [14:31:55] 📝 Editor 已生成研究大纲                  │   │
│  │  [14:31:30] 🔍 初始研究完成，收集到 45 个来源         │   │
│  │  [14:31:00] 🚀 开始多代理研究流程                     │   │
│  └───────────────────────────────────────────────────────┘   │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

---

### 4.3 结果展示界面

#### 报告展示

```
┌─────────────────────────────────────────────────────────────┐
│  📄 研究报告                                    [导出] [分享]  │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  标题: 2025年人工智能在教育领域的最新进展研究               │
│                                                               │
│  ┌────────────┬─────────────────────────────────────────┐   │
│  │ 📑 目录    │          报告内容                      │   │
│  ├────────────┼─────────────────────────────────────────┤   │
│  │           │                                         │   │
│  │ 1. 执行摘要│  ## 执行摘要                          │   │
│  │    ▼      │  人工智能(AI)技术在2025年继续深刻改变... │   │
│  │           │                                         │   │
│  │ 2. 背景分析│  ## 背景分析                          │   │
│  │    ▼      │  教育行业正经历数字化转型...              │   │
│  │           │                                         │   │
│  │ 3. 核心发现│  ## 核心发现                          │   │
│  │    ▼      │  ### 3.1 个性化学习                     │   │
│  │           │  根据调研...[1][2][3]                    │   │
│  │           │                                         │   │
│  │ 4. 案例研究│  ## 4. 案例研究                        │   │
│  │    ▼      │  ### 4.1 Khan Academy                   │   │
│  │           │                                         │   │
│  │ 5. 趋势分析│                                         │   │
│  │    ▼      │                                         │   │
│  │ 6. 结论   │                                         │   │
│  │    ▼      │                                         │   │
│  │           │                                         │   │
│  └────────────┴─────────────────────────────────────────┘   │
│                                                               │
│  💰 研究成本: $0.42   |   🌐 来源数: 45   |   ⏱️ 用时: 5:23    │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

#### 来源追溯面板

```
┌─────────────────────────────────────────────────────────────┐
│  🔗 来源追溯                                      [按相关性]  │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  已找到 45 个相关来源，按相关性排序:                        │
│                                                               │
│  ┌───────────────────────────────────────────────────────┐   │
│  │  1. ⭐⭐⭐⭐⭐                                         │   │
│  │     AI in Education: 2025 Trends Report               │   │
│  │     https://www.edtechhub.com/ai-trends-2025         │   │
│  │     └─ 被引用 8 次                                    │   │
│  │     [在报告中查看] [添加到笔记]                       │   │
│  ├───────────────────────────────────────────────────────┤   │
│  │  2. ⭐⭐⭐⭐                                          │   │
│  │     Personalized Learning Systems                   │   │
│  │     https://arxiv.org/abs/2405.xxxxx                │   │
│  │     └─ 被引用 5 次                                    │   │
│  │     [在报告中查看] [添加到笔记]                       │   │
│  ├───────────────────────────────────────────────────────┤   │
│  │  3. ⭐⭐⭐⭐                                          │   │
│  │     Khan Academy AI Integration                    │   │
│  │     https://khanacademy.org/blog/ai-2025            │   │
│  │     └─ 被引用 4 次                                    │   │
│  ├───────────────────────────────────────────────────────┤   │
│  │  ... 更多来源                                        │   │
│  └───────────────────────────────────────────────────────┘   │
│                                                               │
│  筛选: [全部] [2025年] [学术论文] [行业报告] [新闻]         │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

---

### 4.4 知识库管理界面

#### 文档管理

```
┌─────────────────────────────────────────────────────────────┐
│  📚 知识库管理                              [上传文档] [同步]  │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  文档列表 (156 个文档)                                       │
│                                                               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🔍 搜索文档...          📁 全部  ▼  📅 最近更新  ▼   │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                               │
│  ┌───────────────────────────────────────────────────────┐  │
│  │  📄 2025年AI教育报告.pdf               2.3 MB    今天  │  │
│  │     [研究] [删除] [预览]                                   │  │
│  ├───────────────────────────────────────────────────────┤  │
│  │  📄 量子计算基础概念.docx              1.1 MB    昨天  │  │
│  │     [研究] [删除] [预览]                                   │  │
│  ├───────────────────────────────────────────────────────┤  │
│  │  📁 行业分析报告/                              │  │
│  │     [展开] (12 个文件)                                    │  │
│  ├───────────────────────────────────────────────────────┤  │
│  │  ...                                                    │  │
│  └───────────────────────────────────────────────────────┘   │
│                                                               │
│  [批量上传] [创建文件夹] [向量库设置]                         │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

#### 拖拽上传区域

```
┌─────────────────────────────────────────────────────────────┐
│                                                               │
│            📁                                              │
│                                                           │
│      拖拽文件到此处，或点击选择文件                           │
│                                                           │
│      支持 PDF, Word, PPT, Excel, Markdown, TXT                │
│                                                           │
│              或                                           │
│                                                           │
│          [浏览文件] [从URL导入]                             │
│                                                           │
└─────────────────────────────────────────────────────────────┘
```

---

### 4.5 配置管理界面

#### API 配置

```
┌─────────────────────────────────────────────────────────────┐
│  ⚙️ 配置                                          [保存] [重置]  │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  📑 标签: [LLM 配置] [数据源] [研究参数] [导出设置]            │
│                                                               │
│  LLM 提供商配置:                                              │
│  ┌───────────────────────────────────────────────────────┐   │
│  │  快速任务 (FAST_LLM):                                  │   │
│  │  ┌─────────────────┬──────────────────────────────┐   │   │
│  │  │ 🏠 本地 Ollama   │ ☁️ 云端 GPT-4o              │   │   │
│  │  │ ✓ llama3.2      │ ✓ 已连接                    │   │   │
│  │  └─────────────────┴──────────────────────────────┘   │   │
│  │                                                         │   │
│  │  复杂任务 (SMART_LLM):                                 │   │
│  │  ┌─────────────────┬──────────────────────────────┐   │   │
│  │  │ 🏠 本地 Ollama   │ ☁️ 云端 DeepSeek-V3        │   │   │
│  │  │ ✓ deepseek-r1    │ ✓ 已连接                    │   │   │
│  │  └─────────────────┴──────────────────────────────┘   │   │
│  │                                                         │   │
│  │  嵌入模型 (EMBEDDING):                                  │   │
│  │  ┌─────────────────┬──────────────────────────────┐   │   │
│  │  │ 🏠 本地 nomic    │ ☁️ 云端 bge-m3              │   │   │
│  │  │ ✓ 已选择         │                             │   │   │
│  │  └─────────────────┴──────────────────────────────┘   │   │
│  └───────────────────────────────────────────────────────┘   │
│                                                               │
│  [测试连接] [查看用量统计]                                    │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

#### 研究参数配置

```
┌─────────────────────────────────────────────────────────────┐
│  🔬 研究参数配置                                              │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  深度研究参数:                                                │
│  ┌───────────────────────────────────────────────────────┐   │
│  │  广度 (Breadth)                                        │   │
│  │  ┌──┴──┴──┴──┴──┴──┐                                    │   │
│  │  ░░░░░░░░░░░░░░░ 5                                   │   │
│  │  每层生成的搜索查询数量                                   │   │
│  └───────────────────────────────────────────────────────┘   │
│                                                               │
│  ┌───────────────────────────────────────────────────────┐   │
│  │  深度 (Depth)                                          │   │
│  │  ┌──┴──┴──┐                                              │   │
│  │  ░░░░ 3                                                 │   │
│  │  研究递进层数                                           │   │
│  └───────────────────────────────────────────────────────┘   │
│                                                               │
│  ┌───────────────────────────────────────────────────────┐   │
│  │  并发数 (Concurrency)                                  │   │
│  │  ┌──┴──┴──┴──┴──┐                                      │   │
│  │  ░░░░░░░░░ 4                                           │   │
│  │  同时运行的查询数                                       │   │
│  └───────────────────────────────────────────────────────┘   │
│                                                               │
│  预计成本: ~$0.40  |  预计时间: ~5 分钟                          │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

---

## 五、交互设计

### 5.1 研究流程交互

#### 快速研究流程

```
用户输入查询
    ↓
[点击 "开始研究" 或 Ctrl+Enter]
    ↓
┌─────────────────┐
│  快速配置检查    │
│  └─────────────┘
    ↓
┌─────────────────┐
│  研究中...       │
│  ┌─────────────┐│
│  │ 进度条      ││
│  │ 实时日志    ││
│  └─────────────┘│
    ↓ (1分钟)
┌─────────────────┐
│  结果展示        │
│  ┌─────────────┐│
│  │ 报告内容    ││
│  │ 来源列表    ││
│  │ 导出选项    ││
│  └─────────────┘│
└─────────────────┘
```

#### 深度研究流程

```
用户输入查询
    ↓
[选择 "深度研究" 模式]
    ↓
[点击 "开始研究"]
    ↓
┌─────────────────┐
│  参数确认        │ ← 弹出确认面板
│  - 预计成本      │
│  - 预计时间      │
│  - 研究范围      │
│  [确认] [取消]   │
└─────────────────┘
    ↓
┌─────────────────┐
│  深度研究中...    │
│  ┌─────────────┐│
│  │ 研究树可视化 ││
│  │ 实时进度    ││
│  │ 成本追踪    ││
│  │ 可暂停/取消 ││
│  └─────────────┘│
└─────────────────┘
    ↓ (5分钟)
┌─────────────────┐
│  多代理协作      │ (可选)
│  ┌─────────────┐│
│  │ 代理状态    ││
│  │ 审查修订    ││
│  └─────────────┘│
└─────────────────┘
    ↓
┌─────────────────┐
│  最终报告        │
│  ┌─────────────┐│
│  │ 完整报告    ││
│  │ 来源追溯    ││
│  │ 多格式导出  ││
│  └─────────────┘│
└─────────────────┘
```

---

### 5.2 关键交互模式

#### 拖拽上传文档

```
拖拽文件到区域
    ↓
[文件进入区域，视觉反馈]
    ↓
[显示文件预览和基本信息]
    ↓
[自动开始向量化]
    ↓
┌─────────────────┐
│  上传完成        │
│  ✓ 已向量化     │
│  ✓ 可搜索       │
└─────────────────┘
```

#### 实时进度更新

```javascript
// WebSocket 更新
{
  "type": "progress",
  "stage": "data_collection",
  "progress": {
    "current_depth": 2,
    "total_depth": 3,
    "completed_queries": 8,
    "total_queries": 15
  },
  "current_query": "AI在K-12教育中的应用",
  "cost": 0.15
}
```

#### 成本预警

```
当成本超过阈值时弹出:
┌──────────────────────────────────────────┐
│  ⚠️ 成本预警                             │
├──────────────────────────────────────────┤
│  当前研究已消耗 $0.35                     │
│  预计总成本: $0.50                        │
│                                          │
│  [继续研究] [降低深度参数] [取消]        │
└──────────────────────────────────────────┘
```

---

## 六、视觉设计规范

### 6.1 色彩系统

```css
/* 主色调 - 研究主题 */
--primary-blue: #3B82F6;        /* 研究蓝 */
--primary-purple: #8B5CF6;      /* 智能紫 */
--primary-teal: #14B8A6;        /* 洞察绿 */

/* 功能色 */
--success-green: #10B981;      /* 完成状态 */
--warning-amber: #F59E0B;      /* 进行中 */
--danger-red: #EF4444;         /* 错误/取消 */
--info-cyan: #06B6D4;          /* 信息提示 */

/* 中性色 */
--gray-50: #F9FAFB;
--gray-100: #F3F4F6;
--gray-200: #E5E7EB;
--gray-600: #4B5563;
--gray-900: #111827;

/* 背景色 */
--bg-primary: #FFFFFF;
--bg-secondary: #F9FAFB;
--bg-tertiary: #F3F4F6;

/* 文字色 */
--text-primary: #111827;
--text-secondary: #6B7280;
--text-tertiary: #9CA3AF;
```

### 6.2 组件样式

#### 按钮系统

```css
/* 主要按钮 */
.btn-primary {
  background: var(--primary-blue);
  color: white;
  padding: 12px 24px;
  border-radius: 8px;
  font-weight: 500;
  transition: all 0.2s;
}

.btn-primary:hover {
  background: #2563EB;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
}

/* 次要按钮 */
.btn-secondary {
  background: white;
  color: var(--text-primary);
  border: 1px solid var(--gray-200);
  padding: 12px 24px;
  border-radius: 8px;
}

/* 图标按钮 */
.btn-icon {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
}
```

#### 卡片样式

```css
.card {
  background: white;
  border: 1px solid var(--gray-200);
  border-radius: 12px;
  padding: 24px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.card-hover:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transform: translateY(-2px);
  transition: all 0.2s;
}
```

---

### 6.3 图标系统

使用 [Lucide Icons](https://lucide.dev/) 或 [Heroicons]

| 功能 | 图标 | 说明 |
|------|------|------|
| 研究 | 🔬 `search` | 主功能 |
| 快速 | ⚡ `zap` | 快速模式 |
| 深度 | 🌳 `tree-deciduous` | 深度模式 |
| 知识库 | 📚 `library` | 本地文档 |
| 配置 | ⚙️ `settings` | 设置 |
| 历史 | 📜 `history` | 历史记录 |
| 导出 | 📤 `download` | 导出报告 |
| 暂停 | ⏸️ `pause` | 暂停研究 |
| 成本 | 💰 `coins` | 成本显示 |
| 进度 | 📊 `bar-chart` | 进度条 |

---

## 七、响应式设计

### 7.1 断点系统

```css
/* 移动端 */
@media (max-width: 768px) {
  .container {
    padding: 16px;
  }

  .sidebar {
    position: fixed;
    transform: translateX(-100%);
    transition: transform 0.3s;
  }

  .sidebar.active {
    transform: translateX(0);
  }
}

/* 平板 */
@media (min-width: 769px) and (max-width: 1024px) {
  .main-content {
    max-width: 90%;
  }
}

/* 桌面 */
@media (min-width: 1025px) {
  .main-content {
    max-width: 1200px;
  }
}
```

### 7.2 移动端适配

```
┌─────────────────────────┐
│  ☰  🔬 GPT-Researcher    │
├─────────────────────────┤
│                         │
│  [快速] [深度] [知识库]  │
│                         │
│  ┌───────────────────┐  │
│  │   输入研究问题...  │  │
│  └───────────────────┘  │
│                         │
│  [开始研究]             │
│                         │
│  ┌───────────────────┐  │
│  │   研究中...        │  │
│  │   [████░░░░] 60%  │  │
│  └───────────────────┘  │
│                         │
│  [更多选项 ▼]           │
│                         │
└─────────────────────────┘
```

---

## 八、状态设计

### 8.1 加载状态

```
┌──────────────────────────────────────┐
│                                        │
│     ⏳ 正在初始化研究环境...         │
│                                        │
│     [━━━━━━━━━━]                   │
│                                        │
└──────────────────────────────────────┘
```

### 8.2 空状态

```
┌──────────────────────────────────────┐
│                                        │
│          📭                         │
│    还没有研究历史                     │
│                                        │
│   [开始第一次研究]                     │
│                                        │
└──────────────────────────────────────┘
```

### 8.3 错误状态

```
┌──────────────────────────────────────┐
│                                        │
│          ⚠️                         │
│    研究遇到错误                       │
│                                        │
│  错误: API 速率限制                    │
│                                        │
│  [重试] [返回] [查看帮助]              │
│                                        │
└──────────────────────────────────────┘
```

### 8.4 成功状态

```
┌──────────────────────────────────────┐
│                                        │
│          ✅                         │
│    研究完成！                         │
│                                        │
│  用时: 5:23  成本: $0.42               │
│                                        │
│  [查看报告] [导出] [开始新研究]        │
│                                        │
└──────────────────────────────────────┘
```

---

## 九、可访问性设计

### 9.1 键盘导航

| 快捷键 | 功能 |
|--------|------|
| `Ctrl/Cmd + K` | 快速聚焦搜索框 |
| `Ctrl/Cmd + Enter` | 开始研究 |
| `Ctrl/Cmd + .` | 暂停/继续研究 |
| `Ctrl/Cmd + S` | 保存报告 |
| `Ctrl/Cmd + E` | 导出报告 |
| `Esc` | 关闭弹窗 |
| `?` | 快捷键帮助 |

### 9.2 屏幕阅读器支持

```html
<!-- ARIA 标签示例 -->
<button aria-label="开始研究" role="button">
  开始研究 💡
</button>

<div role="progressbar"
     aria-valuenow="60"
     aria-valuemin="0"
     aria-valuemax="100"
     aria-label="研究进度">
  <div class="progress-bar" style="width: 60%"></div>
</div>
```

---

## 十、技术实现建议

### 10.1 技术栈

```yaml
前端框架:
  - Next.js 14 (App Router)
  - React 18
  - TypeScript

UI 组件:
  - shadcn/ui (基础组件)
  - TailwindCSS (样式)
  - Framer Motion (动画)

状态管理:
  - Zustand (轻量状态)
  - React Query (服务端状态)

数据可视化:
  - Recharts (图表)
  - D3.js (研究树可视化)

实时通信:
  - WebSocket (进度更新)
  - Server-Sent Events (可选)

文档导出:
  - jsPDF (PDF)
  - docx (Word)
  - marked (Markdown)
```

### 10.2 目录结构

```
src/
├── app/                    # Next.js App Router
│   ├── (main)/           # 主页面
│   │   ├── page.tsx      # 研究工作台
│   │   └── layout.tsx
│   ├── research/         # 研究页面
│   │   └── [id]/page.tsx
│   ├── knowledge/         # 知识库
│   └── settings/         # 配置
│
├── components/           # 组件
│   ├── ui/              # 基础 UI 组件
│   ├── research/        # 研究相关
│   │   ├── QueryInput.tsx
│   │   ├── ProgressBar.tsx
│   │   ├── ResearchTree.tsx
│   │   └── ReportView.tsx
│   ├── knowledge/       # 知识库
│   │   ├── DocumentUploader.tsx
│   │   └── DocumentList.tsx
│   └── layout/          # 布局
│       ├── Sidebar.tsx
│       └── Header.tsx
│
├── lib/                 # 工具函数
│   ├── api.ts           # API 调用
│   ├── websocket.ts     # WebSocket
│   └── utils.ts
│
├── hooks/               # React Hooks
│   ├── useResearch.ts   # 研究逻辑
│   └── useWebSocket.ts  # WebSocket
│
└── types/               # TypeScript 类型
    └── index.ts
```

---

## 十一、实施路线图

### Phase 1: MVP (2-3周)

**核心功能**:
- ✅ 查询输入界面
- ✅ 研究进度展示
- ✅ 报告结果展示
- ✅ 基础配置管理

**界面**:
- ✅ 主研究工作台
- ✅ 进度条和日志
- ✅ Markdown 报告展示
- ✅ 响应式布局

### Phase 2: 增强功能 (3-4周)

**高级功能**:
- ✅ 深度研究模式
- ✅ 研究树可视化
- ✅ 来源追溯面板
- ✅ 多格式导出 (PDF/DOCX)

**界面优化**:
- ✅ 知识库管理
- ✅ 历史记录
- ✅ 高级配置面板
- ✅ 成本追踪

### Phase 3: 高级特性 (4-6周)

**深度集成**:
- ✅ 多代理协作模式
- ✅ 本地文档管理
- ✅ 向量库集成
- ✅ 批量研究任务

**用户体验**:
- ✅ 拖拽上传
- ✅ 实时预览
- ✅ 快捷键支持
- ✅ 主题定制

---

## 十二、成功指标

### 用户体验指标

| 指标 | 目标值 | 测量方法 |
|------|--------|----------|
| **任务完成率** | > 90% | 从查询到报告的成功率 |
| **平均研究时间** | < 7 分钟 | 标准研究 <2 分钟，深度研究 <7 分钟 |
| **用户满意度** | > 4.5/5 | NPS 评分 |
| **学习曲线** | < 10 分钟 | 新用户首次独立完成研究 |

### 技术性能指标

| 指标 | 目标值 | 说明 |
|------|--------|------|
| **首屏加载** | < 2s | LCP (Largest Contentful Paint) |
| **交互响应** | < 100ms | INP (Interaction to Next Paint) |
| **WebSocket 延迟** | < 50ms | 进度更新延迟 |
| **移动端可用** | 100% | 移动端完整功能 |

---

## 十三、附录

### A. 设计资源

- **设计灵感**: [Perplexity AI](https://www.perplexity.ai/), [You.com](https://you.com/)
- **组件库**: [shadcn/ui](https://ui.shadcn.com/), [Vercel v0](https://vercel.com/templates)
- **图标**: [Lucide](https://lucide.dev/), [Heroicons](https://heroicons.com/)
- **色彩**: [Tailwind Colors](https://tailwindcss.com/docs/customizing-colors)

### B. 相关文档

- GPT-Researcher 官方文档: https://docs.gptr.dev
- LangGraph 文档: https://python.langchain.com/docs/langgraph
- Next.js 文档: https://nextjs.org/docs
- WebSocket 集成指南

### C. API 接口规范

```typescript
// 开始研究
POST /api/research/start
{
  query: string;
  report_type: "research_report" | "deep" | "custom_report";
  config?: ResearchConfig;
}
→ { research_id: string; status: "started"; }

// 查询进度
GET /api/research/:id/progress
→ {
    status: "running" | "completed" | "failed";
    progress: ResearchProgress;
    current_stage: string;
  }

// 获取结果
GET /api/research/:id/result
→ {
    report: string;
    sources: Source[];
    costs: number;
  }

// 取消研究
POST /api/research/:id/cancel
→ { status: "cancelled"; }
```

---

## 总结

这套 UX 设计方案基于对 gpt-researcher 框架的深入研究，针对不同用户角色和使用场景，提供了：

1. **清晰的界面层次** - 从快速研究到深度研究的多模式选择
2. **透明的进度反馈** - 实时展示研究进度、成本和状态
3. **强大的配置能力** - 满足从新手到专家的不同需求
4. **完整的功能覆盖** - 研究执行、结果展示、知识库管理、配置管理
5. **优秀的用户体验** - 简洁、高效、可访问

设计文档已保存，可作为开发实现的参考。
